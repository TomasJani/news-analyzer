@using Client.Services
@inject IJSRuntime JsRuntime
@inject StorageState StorageState

@if (_hasLoaded)
{
    @ChildContent
}

@code {
    private bool _hasLoaded;

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await StorageState.Initialize();
        _hasLoaded = true;
    }

}